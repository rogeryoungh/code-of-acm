<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | Roger Young</title>
<meta name="keywords" content="" />
<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="https://acm.rogery.dev/post/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.516fb8b590ac7d538e32093f4a6811588662ee6b96d207ce1d68927839cf0186.css" integrity="sha256-UW&#43;4tZCsfVOOMgk/SmgRWIZi7muW0gfOHWiSeDnPAYY=" rel="preload stylesheet" as="style">
<link rel="preload" href="https://blog.rogery.dev/avatar.png" as="image">
<link rel="icon" href="https://acm.rogery.dev/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://acm.rogery.dev/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://acm.rogery.dev/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://acm.rogery.dev/apple-touch-icon.png">
<link rel="mask-icon" href="https://acm.rogery.dev/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.101.0" />
<link rel="alternate" type="application/rss+xml" href="https://acm.rogery.dev/post/index.xml">




<meta property="og:title" content="Posts" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://acm.rogery.dev/post/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content=""/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://acm.rogery.dev/post/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-font") === "serif") {
        document.body.classList.add('serif');
    }

</script>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://acm.rogery.dev" accesskey="h" title="Roger Young (Alt + H)">Roger Young</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <button id="font-toggle" accesskey="t" title="(Alt + T)">A</button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://acm.rogery.dev/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://acm.rogery.dev/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://acm.rogery.dev/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://acm.rogery.dev/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>Posts</h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>P3373 线段树 2</h2>
  </header>
  <section class="entry-content">
    <p>题目大意 给定一个数列，有如下操作：
将区间 $[l,r]$ 上的数乘上 $x$ 将区间 $[l,r]$ 上的数加上 $x$ 询问区间 $[l,r]$ 上的数之和 分析 很经典的线段树教学题，写完后对线段树的理解确实更深了。
从一次函数的角度考虑问题感觉更清晰。我们实际上在对每个序列上的值做一次函数
$$ f_i(x) = k_i x &#43; m_i $$
先来看本题线段树的结构
template &lt;class T&gt; struct SegmentTree { vector&lt;Seg&gt; tr; void pushup(int p); void pushdown(int p); void build(int l, int r, int p = 1); void modify(int l, int r, T k, T m, int p = 1); T query(int l, int r, int p = 1); }; 懒标记：在知道一段当前值的情况下，可以立刻知道该段被操作后的值，不必重新计算所有的数。因此可以把当前的操作存起来，询问的时候再对子节点做真实操作。...</p>
  </section>
  <footer class="entry-footer">January 28, 2022&nbsp;·&nbsp;rogeryoungh</footer>
  <a class="entry-link" aria-label="post link to P3373 线段树 2" href="https://acm.rogery.dev/post/2022-01/p3373/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>P4588 数学计算</h2>
  </header>
  <section class="entry-content">
    <p>题目大意 初始是 $x=1$，我们每轮对 $x$ 做一个操作
将 $x$ 变为 $k x$，并输出 $x \bmod M$。 将 $x$ 变为 $x / k_i$，即取消第 $i$ 次操作，并输出 $x \bmod M$。 保证每个操作 1 的 $k$ 在操作 2 中至多被除一次。
分析 $M$ 并不保证是质数，逆元可能不存在。
可以把操作序列看作一个乘积式，初始情况下全为 $1$。
操作 1 即是把第 $i$ 个数变为 $k$。 操作 2 即是把第 $i$ 个数变回 $1$。 修改结束后，询问所有数的乘积。单点修改，区间查询，标准的线段树。
因为只询问全体和，zkw 好写的多。
template &lt;class T&gt; struct SegmentTree { vector&lt;T&gt; tr; int N; SegmentTree(int l, int r) { int n = r - l &#43; 1; N = 2 &lt;&lt; std::__lg(n); tr....</p>
  </section>
  <footer class="entry-footer">January 28, 2022&nbsp;·&nbsp;rogeryoungh</footer>
  <a class="entry-link" aria-label="post link to P4588 数学计算" href="https://acm.rogery.dev/post/2022-01/p4588/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>P5057 简单题</h2>
  </header>
  <section class="entry-content">
    <p>题目大意 给定一个 01 序列，有如下操作：
将区间 $[l,r]$ 上的数 01 翻转。 询问第 $i$ 个数的值。 分析 区间操作，单点查询，很自然的想到了差分。
用异或或者加减代替翻转都可以，用树状数组维护。我选择了加减，这样询问时对 $2$ 取余即可。
#include &#34;template/ds/fwtree/0.hpp&#34; int main() { int n = rr(), m = rr(); fwtree_1&lt;int&gt; tr(n &#43; 2); while (m--) { int t = rr(); if (t == 1) { int l = rr() &#43; 1, r = rr() &#43; 1; tr.modify(l - 1, -1), tr.modify(r, 1); } else { int i = rr(); i = tr....</p>
  </section>
  <footer class="entry-footer">January 28, 2022&nbsp;·&nbsp;rogeryoungh</footer>
  <a class="entry-link" aria-label="post link to P5057 简单题" href="https://acm.rogery.dev/post/2022-01/p5057/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>代码模板</h2>
  </header>
  <section class="entry-content">
    <p>我的代码模板依赖于我自定义的预处理器，它通过 DFS 把所有引入的模板展开。
index.hpp：公共文件头。 我的模板风格是简单封装：在保持易用的同时，封装尽量的薄。
Data Struct 基础数据结构。
fwtree/1.hpp：普通树状数组。 fwtree/2.hpp：支持区间修改、区间查询的树状数组。 SegmentTree/1.hpp：普通线段树示例，不可引入。 SegmentTree/2.hpp：带懒标记的线段树示例，不可引入。 Math 基础数学算法。
qpow.hpp：快速幂。 qpow128.hpp：64 位类型的快速幂。 Basic 我也不知道这东西该放哪，就放到这里吧。
modint：m32。 NTT-int 简化多项式板子，码量少，常数较大。
fps/O.hpp：多项式基础结构，用牛顿迭代完成操作。 fps/F.hpp：与上面的相同，略卡常数。 cdq.hpp：非递归 CDQ 分治。 eval.hpp：多点插值，多点求值。 没有用的 NTT-mint 基于 modint 的多项式板子，注重易用性和常数，码量较大。
每一种算法可能有多种实现。
多项式类的定义
poly/1.hpp：继承于 vector&lt;m32&gt;。 NTT
ntt/1.hpp：无 rev 的 NTT。 ntt/2.hpp：略微卡常的 NTT。 多项式逆
inv/1.hpp：12E 的牛顿迭代 inv，和 16E 的牛顿迭代 div。 inv/2.hpp：10E 的牛顿迭代 inv，和 13E 的牛顿迭代 div。 inv/3.hpp：24E 的牛顿迭代 inv，和 28E 的牛顿迭代 div。 inv/6.hpp：半在线卷积实现的 inv &amp; div。 inv/7.hpp：全在线卷积实现的 inv &amp; div。（没啥用） inv/8....</p>
  </section>
  <footer class="entry-footer">January 22, 2022&nbsp;·&nbsp;rogeryoungh</footer>
  <a class="entry-link" aria-label="post link to 代码模板" href="https://acm.rogery.dev/post/other/docs/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>ZAFU 2022.01.18 个人赛题解</h2>
  </header>
  <section class="entry-content">
    <p>非常抱歉，本次比赛对难度估计不当，给大家造成了不好的体验，在此向大家致歉。
A - CF1379A 见 CF Round #657 (Div. 2) 。
B - CF1379B 见 CF Round #657 (Div. 2) 。
C - CF1313B 题目大意 有 $n$ 位参赛者参加两轮比赛，ff 获得的名次分别是 $x$ 和 $y$，其他人的名次是未知的，求 ff 最终可能的最高排名和最低排名。
分析 结论是很容易猜到的，证明有些困难。
首先构造最低排名，让尽量多的同学有总分 $x&#43;y$，此时 ff 的排名为 $S_1 = \min(n, x &#43; y - 1)$。
证明
如果某人的总分满足 $x_i &#43; y_i \leqslant x &#43; y$，那么其两次排名一定满足 $$ x_i \leqslant x&#43;y-1\ 且\ y_i \leqslant x&#43;y-1$$ 这样的数对显然是不多于 $\min(n, x &#43; y - 1) = S_1$ 个的，而 $S_1$ 的构造已给出，故最多为 $S_1$ 个。...</p>
  </section>
  <footer class="entry-footer">January 21, 2022&nbsp;·&nbsp;rogeryoungh</footer>
  <a class="entry-link" aria-label="post link to ZAFU 2022.01.18 个人赛题解" href="https://acm.rogery.dev/post/2022-01/hj1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>CF Round 706(Div 2)</h2>
  </header>
  <section class="entry-content">
    <p>D. Let&#39;s Go Hiking 两人在序列上移动，Qingshan 只能往值更高的地方走，Daniel 只能往低处走。两人不能重叠，求 Qingshan 中有多少可以赢的位置。
分析 其实我们只用关注上升和下降的序列有多长，而不必关心它们具体是几。
如果 Qingshan 选边界上的坡，或者不选在坡顶，那么 Daniel 可以紧挨着它，从而必输。
如果 Qingshan 不选最长的坡，则 Danniel 可以选最长的坡，从而必输。
如果最长的坡存在没有公共最高点的两个，Danniel 可以避开 Qingshan 选，从而必输。
剩下的情况只有两种：
最长的坡只有一个，Qingshan 只能选在此坡坡顶，Danniel 可以选在靠近坡底的地方，使得两人碰面，从而必输。 最长的坡有两个且有公共最高点，Qingshan 选在坡顶，则可以选择避开 Danniel 下坡，从而必胜。 附：代码，展开
E. Garden of the Sun 在棋盘的格子中有不连续的 X，请连接使得其满足如下条件
X 组成的图案是连通的。 X 组成的图案不存在环。 分析 X 不连续是一个比较强的性质。
构造类似 丰 字形的图案，横与横之间空两行，这样可以使得所有 X 都附在一条横上，且互相不连接。
接下来考虑如何把横连起来，可以发现只用在第一列、第二列中选一列进行连接即可。
附：代码，展开
F. BFS Trees 第一次补题补到 F 耶！什么时候才能在赛中做到 F 呢……
我们定义一个图上的生成树是以 $s$ 点为根的 BFS 树，当且仅当：对于任意的节点 $t$，$s\to t$ 在 BFS 树上的最短路等于图上的最短路。...</p>
  </section>
  <footer class="entry-footer">November 11, 2021&nbsp;·&nbsp;rogeryoungh</footer>
  <a class="entry-link" aria-label="post link to CF Round 706(Div 2)" href="https://acm.rogery.dev/post/2021-11/cf1496/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>2021 年刷题日志</h2>
  </header>
  <section class="entry-content">
    <p>过于简单的题不记录。
洛谷：更新至：2021.11.10(–.–)
CodeForces：更新至：–.–
牛客：更新至：–.–
HDU：更新至：–.–
2021 年 01 月 01-25 | P3378 堆
2021 年 02 月 02-28 | P1216 数字三角形
2021 年 03 月 03-02 | P3382 三分法
03-06 | P3865 ST 表
03-17 | P1162 填涂颜色
03-17 | P1019 单词接龙
03-19 | P1014 Cantor 表
03-19 | P3370 字符串哈希
03-20 | P3375 KMP 字符串匹配
03-20 | P3374 树状数组 1
03-20 | P3368 树状数组 2
03-28 | P1177 快速排序...</p>
  </section>
  <footer class="entry-footer">November 10, 2021&nbsp;·&nbsp;rogeryoungh</footer>
  <a class="entry-link" aria-label="post link to 2021 年刷题日志" href="https://acm.rogery.dev/post/other/log2021/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>P1393 Mivik 的标题</h2>
  </header>
  <section class="entry-content">
    <p>题目大意 在字符集中有 $m$ 个不同的字符，求给定字符串 $S$ 在长度为 $n$ 的字符串的全集中出现的概率。
分析 参考 Mivik 的字符串公开赛。
定义 $A$ 类字符串为，在整个字符串中 $S$ 只出现过一次，且恰好 $S$ 出现在末尾的字符串。
设 $\{f_i\}$ 是长度为 $i$ 的字符串中 $A$ 类字符串的个数。再定义 $\{g_i\}$ 是长度为 $i$ 的字符串中没有出现过 $S$ 的个数。
在长为 $i$ 的没有出现过 $S$ 的字符串后面加上一个字符，则可能出现 $S$ 也可能没有出现 $S$。
$$ m g_i = f_{i&#43;1} &#43; g_{i&#43;1} $$
定义关于 $S$ 的数列 $\{s_i\}$ 为
$$ s_i = [i \ \text{is a period of}\ S] $$
即当 $i$ 是 $S$ 的一个循环节时，$s_i$ 为 $1$，否则为 $0$。...</p>
  </section>
  <footer class="entry-footer">November 2, 2021&nbsp;·&nbsp;rogeryoungh</footer>
  <a class="entry-link" aria-label="post link to P1393 Mivik 的标题" href="https://acm.rogery.dev/post/2021-11/p1393/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>P5179 Fraction</h2>
  </header>
  <section class="entry-content">
    <p>题目大意 求最简分数 $p/q$ 满足
$$ \frac{a}{b} &lt; \frac{p}{q} &lt; \frac{c}{d} $$
若有多组解，输出 $q$ 最小的；仍有多组解，输出 $p$ 最小的一组。
分析 分类讨论：
首先当 $\lfloor a/b \rfloor &#43; 1 \leqslant \lceil c/d \rceil - 1$ 时，说明两个数之间存在一个整数，直接返回 $p = 1, q = \lfloor a / b \rfloor &#43; 1$ 即可。 其次当 $a = 0$ 时，直接解得 $p = 1, q = \lfloor d / c \rfloor &#43; 1$。 当 $a &lt; b$ 时，这意味着我们无法直接求解。考虑翻转，转化问题为 $$ \frac{d}{c} &lt; \frac{q}{p} &lt; \frac{b}{a} $$ 递归即可。 当 $a &gt; b$ 时，考虑求解 $$ \frac{a}{b} - \left\lfloor\frac{a}{b}\right\rfloor &lt; \frac{p}{q} - \left\lfloor\frac{a}{b}\right\rfloor &lt; \frac{c}{d} - \left\lfloor\frac{a}{b}\right\rfloor $$ 也是递归即可，还原出结果以后返回。 唯一需要确认的就是，翻转后仍是最优解，考虑反证。...</p>
  </section>
  <footer class="entry-footer">October 30, 2021&nbsp;·&nbsp;rogeryoungh</footer>
  <a class="entry-link" aria-label="post link to P5179 Fraction" href="https://acm.rogery.dev/post/2021-10/p5179/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>P5171 Earthquake</h2>
  </header>
  <section class="entry-content">
    <p>题目大意 给定 $a,b,c$，求满足方程 $ax &#43; by \leqslant c$ 的非负整数解的个数。
分析 令 $n = \lfloor c / a \rfloor$，容易推出让我们求的是
$$ n &#43; 1 &#43; \sum_{x = 0}^{n} \left\lfloor \frac{c - ax}{b} \right\rfloor $$
直接套类欧是不行的，因为系数有负数。其他题解感觉推麻烦了，直接考虑水平翻转，令 $x \to (n - x)$，代入有
$$ n &#43; 1 &#43; \sum_{x = 0}^{n} \left\lfloor \frac{ax &#43; c - an}{b} \right\rfloor $$
显然 $c - an$ 是 c % a，于是套类欧即可
附：代码，展开</p>
  </section>
  <footer class="entry-footer">October 28, 2021&nbsp;·&nbsp;rogeryoungh</footer>
  <a class="entry-link" aria-label="post link to P5171 Earthquake" href="https://acm.rogery.dev/post/2021-10/p5171/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://acm.rogery.dev/post/page/3/">« Prev Page</a>
    <a class="next" href="https://acm.rogery.dev/post/page/5/">Next Page »</a>
  </nav>
</footer>
    </main>
    <footer class="footer">
    <span>© 2021 <a href="https://acm.rogery.dev">Roger Young</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" id="gototop" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })
    document.getElementById("font-toggle").addEventListener("click", () => {
        if (document.body.className.includes("serif")) {
            document.body.classList.remove('serif');
            localStorage.setItem("pref-font", 'sans');
        } else {
            document.body.classList.add('serif');
            localStorage.setItem("pref-font", 'serif');
        }
    })

</script></body>

</html>
