template <class D>
struct Edge {
	int to;
	D len;
};

template <class D>
using Edges = std::vector<std::vector<Edge<D>>>;

// @description 队列优化 Bellman Ford 最短路

template <class D>
auto queue_bellman_ford(const Edges<D> &G, int s) {
	int n = G.size();
	std::queue<int> q;
	std::vector<D> dis(n, std::numeric_limits<D>::max() / 2);
	std::vector<int> from(n, -1);
	dis[s] = 0, from[s] = s;
	q.push(s);
	while (!q.empty()) {
		int u = q.front();
		q.pop();
		for (auto [v, w] : G[u]) {
			int d2 = dis[u] + w;
			if (dis[v] > d2)
				dis[v] = d2, from[v] = u, q.push(v);
		}
	}
	return std::make_pair(dis, from);
}